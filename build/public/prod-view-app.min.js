/*! Copyright (c) 2016 Sample-Prod-View Inc, All rights reserved.  v0.0.0 29-04-2016 */
(function(){var a,b,c,d;void 0===window.XMLHttpRequest&&(window.XMLHttpRequest=function(){var a;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){a=b;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){return a=b,new Error("XMLHttpRequest is not supported")}}}),a=function(a,b){var c;return c=new XMLHttpRequest,c.open("GET",a),c.onreadystatechange=function(){var a;return 4===c.readyState&&c.status>=200&&c.status<400&&(a=JSON.parse(c.responseText),"OK"===a.errorCode)?b(a.result):void 0},c.send(null)},c=function(a){var b;return b=Math.abs(a),0>a?"rgb(255, "+(225-b)+", "+(225-b)+")":50>b?"rgb( "+(255-5*b)+", 255, "+(255-5*b)+")":"rgb(0, "+(200-Math.min(150,b))+", 0)"},b=function(a,b){var d,e,f;return e=document.createElement("td"),d=a[b]||{},d.price?(f=Math.floor(d.variance),e.innerHTML=""+Math.floor(d.price)+" $ ("+f+")",e.style.backgroundColor=c(f)):e.innerHTML=" ",e},d=function(a){var c,d,e;d=document.getElementById("productVarianceTable"),c=document.createElement("tr"),e=document.createElement("th"),c.appendChild(e),a.competitors.forEach(function(a){return e=document.createElement("th"),e.innerHTML=a,c.appendChild(e)}),d.appendChild(c),a.products.forEach(function(e){var f;return c=document.createElement("tr"),f=document.createElement("td"),f.innerHTML=e.name,c.appendChild(f),a.competitors.forEach(function(a){return c.appendChild(b(e,a))}),d.appendChild(c)})},a("/rest/1.0/productVariance",d)}).call(this);